package org.mitre.mandolin.app;
import java.util.ArrayList;
import java.util.List;

class TestGlpRuntimeDecoder {
	
	/**
	 * This test program should be run using a model trained from the mnist data in examples/mnist/
	 * @param args
	 */
	public static void main(String[] args) {
		MMLPRuntimeDecoder dec = new MMLPRuntimeDecoder(args[0]);
		
		List<StringDoublePair> li = new ArrayList<StringDoublePair>();
		li.add(new StringDoublePair("153",3.0));
		li.add(new StringDoublePair("154",18.0));
		li.add(new StringDoublePair("155",18.0));
		li.add(new StringDoublePair("156",18.0));
		li.add(new StringDoublePair("157",126.0));
		li.add(new StringDoublePair("158",136.0));
		li.add(new StringDoublePair("159",175.0));
		li.add(new StringDoublePair("160",26.0));
		li.add(new StringDoublePair("162",255.0));
		li.add(new StringDoublePair("163",247.0));
		li.add(new StringDoublePair("164",127.0));
		li.add(new StringDoublePair("177",30.0));
		li.add(new StringDoublePair("178",36.0));
		li.add(new StringDoublePair("179",94.0));
		li.add(new StringDoublePair("180",154.0));
		li.add(new StringDoublePair("181",170.0));
		li.add(new StringDoublePair("183",253.0));
		li.add(new StringDoublePair("184",253.0));
		li.add(new StringDoublePair("185",253.0));
		li.add(new StringDoublePair("186",253.0));
		li.add(new StringDoublePair("187",225.0));
		li.add(new StringDoublePair("188",172.0));
		li.add(new StringDoublePair("189",253.0));
		li.add(new StringDoublePair("190",242.0));
		li.add(new StringDoublePair("192",64.0));
		li.add(new StringDoublePair("204",49.0));
		li.add(new StringDoublePair("205",238.0));
		li.add(new StringDoublePair("206",253.0));
		li.add(new StringDoublePair("207",253.0));
		li.add(new StringDoublePair("208",253.0));
		li.add(new StringDoublePair("209",253.0));
		li.add(new StringDoublePair("210",253.0));
		li.add(new StringDoublePair("212",253.0));
		li.add(new StringDoublePair("213",253.0));
		li.add(new StringDoublePair("214",251.0));
		li.add(new StringDoublePair("215",93.0));
		li.add(new StringDoublePair("216",82.0));
		li.add(new StringDoublePair("217",82.0));
		li.add(new StringDoublePair("218",56.0));
		li.add(new StringDoublePair("219",39.0));
		li.add(new StringDoublePair("233",219.0));
		li.add(new StringDoublePair("234",253.0));
		li.add(new StringDoublePair("235",253.0));
		li.add(new StringDoublePair("236",253.0));
		li.add(new StringDoublePair("237",253.0));
		li.add(new StringDoublePair("238",253.0));
		li.add(new StringDoublePair("239",198.0));
		li.add(new StringDoublePair("240",182.0));
		li.add(new StringDoublePair("242",241.0));
		li.add(new StringDoublePair("261",80.0));
		li.add(new StringDoublePair("262",156.0));
		li.add(new StringDoublePair("263",107.0));
		li.add(new StringDoublePair("264",253.0));
		li.add(new StringDoublePair("265",253.0));
		li.add(new StringDoublePair("266",205.0));
		li.add(new StringDoublePair("267",11.0));
		li.add(new StringDoublePair("270",154.0));
		li.add(new StringDoublePair("290",14.0));
		li.add(new StringDoublePair("291",1.0));
		li.add(new StringDoublePair("292",154.0));
		li.add(new StringDoublePair("293",253.0));
		li.add(new StringDoublePair("294",90.0));
		li.add(new StringDoublePair("320",139.0));
		li.add(new StringDoublePair("321",253.0));
		li.add(new StringDoublePair("323",2.0));
		li.add(new StringDoublePair("348",11.0));
		li.add(new StringDoublePair("349",190.0));
		li.add(new StringDoublePair("350",253.0));
		li.add(new StringDoublePair("351",70.0));
		li.add(new StringDoublePair("377",35.0));
		li.add(new StringDoublePair("378",241.0));
		li.add(new StringDoublePair("379",225.0));
		li.add(new StringDoublePair("381",108.0));
		li.add(new StringDoublePair("382",1.0));
		li.add(new StringDoublePair("406",81.0));
		li.add(new StringDoublePair("407",240.0));
		li.add(new StringDoublePair("408",253.0));
		li.add(new StringDoublePair("409",253.0));
		li.add(new StringDoublePair("410",119.0));
		li.add(new StringDoublePair("411",25.0));
		li.add(new StringDoublePair("436",186.0));
		li.add(new StringDoublePair("437",253.0));
		li.add(new StringDoublePair("438",253.0));
		li.add(new StringDoublePair("439",150.0));
		li.add(new StringDoublePair("440",27.0));
		li.add(new StringDoublePair("464",16.0));
		li.add(new StringDoublePair("465",93.0));
		li.add(new StringDoublePair("466",252.0));
		li.add(new StringDoublePair("468",187.0));
		li.add(new StringDoublePair("494",249.0));
		li.add(new StringDoublePair("495",253.0));
		li.add(new StringDoublePair("496",249.0));
		li.add(new StringDoublePair("497",64.0));
		li.add(new StringDoublePair("519",46.0));
		li.add(new StringDoublePair("520",130.0));
		li.add(new StringDoublePair("521",183.0));
		li.add(new StringDoublePair("523",253.0));
		li.add(new StringDoublePair("524",207.0));
		li.add(new StringDoublePair("525",2.0));
		li.add(new StringDoublePair("545",39.0));
		li.add(new StringDoublePair("546",148.0));
		li.add(new StringDoublePair("547",229.0));
		li.add(new StringDoublePair("548",253.0));
		li.add(new StringDoublePair("549",253.0));
		li.add(new StringDoublePair("551",250.0));
		li.add(new StringDoublePair("552",182.0));
		li.add(new StringDoublePair("571",24.0));
		li.add(new StringDoublePair("572",114.0));
		li.add(new StringDoublePair("573",221.0));
		li.add(new StringDoublePair("574",253.0));
		li.add(new StringDoublePair("575",253.0));
		li.add(new StringDoublePair("576",253.0));
		li.add(new StringDoublePair("578",201.0));
		li.add(new StringDoublePair("579",78.0));
		li.add(new StringDoublePair("597",23.0));
		li.add(new StringDoublePair("598",66.0));
		li.add(new StringDoublePair("599",213.0));
		li.add(new StringDoublePair("600",253.0));
		li.add(new StringDoublePair("601",253.0));
		li.add(new StringDoublePair("602",253.0));
		li.add(new StringDoublePair("604",198.0));
		li.add(new StringDoublePair("605",81.0));
		li.add(new StringDoublePair("606",2.0));
		li.add(new StringDoublePair("623",18.0));
		li.add(new StringDoublePair("624",171.0));
		li.add(new StringDoublePair("625",219.0));
		li.add(new StringDoublePair("626",253.0));
		li.add(new StringDoublePair("627",253.0));
		li.add(new StringDoublePair("629",253.0));
		li.add(new StringDoublePair("630",195.0));
		li.add(new StringDoublePair("631",80.0));
		li.add(new StringDoublePair("632",9.0));
		li.add(new StringDoublePair("649",55.0));
		li.add(new StringDoublePair("650",172.0));
		li.add(new StringDoublePair("651",226.0));
		li.add(new StringDoublePair("652",253.0));
		li.add(new StringDoublePair("654",253.0));
		li.add(new StringDoublePair("655",253.0));
		li.add(new StringDoublePair("656",244.0));
		li.add(new StringDoublePair("657",133.0));
		li.add(new StringDoublePair("658",11.0));
		li.add(new StringDoublePair("677",136.0));
		li.add(new StringDoublePair("678",253.0));
		li.add(new StringDoublePair("679",253.0));
		li.add(new StringDoublePair("681",212.0));
		li.add(new StringDoublePair("682",135.0));
		li.add(new StringDoublePair("683",132.0));
		li.add(new StringDoublePair("12345",1.0));
		StringDoublePair res = dec.decodePairsMPEWithScore(li);
        System.out.println("Decoded instance now has label " + res.str() + " with score " + res.value());
        System.out.println("Unknown features: ");
        java.util.Set<String> unknowns = dec.getUnknownFeatures();
        for (String f : unknowns) {
        	System.out.println(f);
        }
	}
}

<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
<title>MMLPs · Mandolin</title>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="description" content='mandolin'/>
<link href="https://fonts.googleapis.com/css?family=Roboto:100normal,100italic,300normal,300italic,400normal,400italic,500normal,500italic,700normal,700italic,900normal,900italicc" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../lib/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../js/page.js"></script>
<script type="text/javascript" src="../js/groups.js"></script>
<link rel="stylesheet" type="text/css" href="../lib/normalize.css/normalize.css"/>
<link rel="stylesheet" type="text/css" href="../lib/foundation/dist/foundation.min.css"/>
<link rel="stylesheet" type="text/css" href="../css/page.css"/>

<!--
<link rel="shortcut icon" href="../images/favicon.ico" />
-->
</head>

<body>
<div class="off-canvas-wrapper">
<div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>

<div class="off-canvas position-left" id="off-canvas-menu" data-off-canvas>
<nav class="off-canvas-nav">
<div class="nav-home">
<a href="../index.html" >
<span class="home-icon">⌂</span>Mandolin
</a>
<div class="version-number">
0.3.6.2*
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../installation/installation.html" class="page">Installation</a></li>
  <li><a href="../essentials/essentials.html" class="page">Essentials</a></li>
  <li><a href="../examples/overview.html" class="page">Examples</a>
  <ul>
    <li><a href="../examples/mmlp.html" class="page">MMLPs</a></li>
    <li><a href="../examples/spark.html" class="page">Spark</a></li>
    <li><a href="../examples/xgboost.html" class="page">XGBoost</a></li>
    <li><a href="../examples/mxnet.html" class="page">MXNet</a></li>
  </ul></li>
  <li><a href="../mmlp/mmlp.html" class="active page">MMLPs</a></li>
  <li><a href="../xgboost/xgboost.html" class="page">XGBoost</a></li>
  <li><a href="../mxnet/mxnet.html" class="page">MXNet</a></li>
  <li><a href="../model-selection/mselect.html" class="page">Model Selection</a></li>
  <li><a href="../spark/spark.html" class="page">Spark</a></li>
  <li><a href="../api-use/api.html" class="page">API Use</a></li>
</ul>
</div>

</nav>
</div>

<div class="off-canvas-content" data-off-canvas-content>

<header class="site-header expanded row">
<div class="small-12 column">
<a href="#" class="off-canvas-toggle hide-for-medium" data-toggle="off-canvas-menu"><svg class="svg-icon svg-icon-menu" version="1.1" id="Menu" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve"> <path class="svg-icon-menu-path" fill="#53CDEC" d="M16.4,9H3.6C3.048,9,3,9.447,3,10c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,9.447,16.952,9,16.4,9z M16.4,13
H3.6C3.048,13,3,13.447,3,14c0,0.553,0.048,1,0.6,1H16.4c0.552,0,0.6-0.447,0.6-1C17,13.447,16.952,13,16.4,13z M3.6,7H16.4
C16.952,7,17,6.553,17,6c0-0.553-0.048-1-0.6-1H3.6C3.048,5,3,5.447,3,6C3,6.553,3.048,7,3.6,7z"/></svg>
</a>
<div class="title"><a href="../index.html">Mandolin</a></div>

<!--
<a href="https://www.example.com" class="logo show-for-medium">logo</a>
-->
</div>
</header>

<div class="expanded row">

<div class="medium-3 large-2 show-for-medium column">
<nav class="site-nav">
<div class="nav-home">
<a href="../index.html" >
<span class="home-icon">⌂</span>Mandolin
</a>
<div class="version-number">
0.3.6.2*
</div>
</div>
<div class="nav-toc">
<ul>
  <li><a href="../installation/installation.html" class="page">Installation</a></li>
  <li><a href="../essentials/essentials.html" class="page">Essentials</a></li>
  <li><a href="../examples/overview.html" class="page">Examples</a>
  <ul>
    <li><a href="../examples/mmlp.html" class="page">MMLPs</a></li>
    <li><a href="../examples/spark.html" class="page">Spark</a></li>
    <li><a href="../examples/xgboost.html" class="page">XGBoost</a></li>
    <li><a href="../examples/mxnet.html" class="page">MXNet</a></li>
  </ul></li>
  <li><a href="../mmlp/mmlp.html" class="active page">MMLPs</a></li>
  <li><a href="../xgboost/xgboost.html" class="page">XGBoost</a></li>
  <li><a href="../mxnet/mxnet.html" class="page">MXNet</a></li>
  <li><a href="../model-selection/mselect.html" class="page">Model Selection</a></li>
  <li><a href="../spark/spark.html" class="page">Spark</a></li>
  <li><a href="../api-use/api.html" class="page">API Use</a></li>
</ul>
</div>

</nav>
</div>

<div class="small-12 medium-9 large-10 column">
<section class="site-content">

<div class="page-header row">
<div class="medium-12 show-for-medium column">
<div class="nav-breadcrumbs">
<ul>
  <li><a href="../index.html">Mandolin</a></li>
  <li>MMLPs</li>
</ul>
</div>
</div>
</div>

<div class="page-content row">
<div class="small-12 large-9 column" id="docs">
<h1><a href="#mmlps" name="mmlps" class="anchor"><span class="anchor-link"></span></a>MMLPs</h1>
<p>Mandolin supports <em>built-in</em> iterative gradient-based machine learning algorithms that do not rely on third party libraries and run entirely within the JVM (implemented in Scala). These algorithms are robust, do not rely on native code, and offer efficient efficient training for high-dimensional, sparse, linear models such as multinomial logistic regression and linear regression and variations with different loss functions. These models can incorporate fully connected hidden layers resulting in multi-layered perceptron models, yet lack efficient native or GPU-accelerated linear algebra routines. Accordingly, these models can be relatively slow to train. In addition, modern deep learning libraries (such as MXNet or Tensorflow) include a much more extensive array of options for multi-layered perceptrons as well as more complex neural network architectures.</p>
<h2><a href="#mmlp-configuration" name="mmlp-configuration" class="anchor"><span class="anchor-link"></span></a>MMLP Configuration</h2>
<p>These models are specified in the configuration file within the namespace <code>mandolin.mmlp</code>. Important configuration options/settings for these models include:</p>
<table>
  <thead>
    <tr>
      <th align="right">Property Name </th>
      <th>Meaning </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="right"><code>mandolin.mmlp.train-file</code> </td>
      <td>Training file in the standard Mandolin classification input format. </td>
    </tr>
    <tr>
      <td align="right"><code>mandolin.mmlp.model-file</code> </td>
      <td>String path specifying where the trained model should be written to. The model is represented as Kryo serialized objects including the model weights and any auxiliary information (e.g. feature alphabet) required to use the model for inference on new data. </td>
    </tr>
    <tr>
      <td align="right"><code>mandolin.mmlp.test-file</code> </td>
      <td>A development test file to use for evaluation during/after the training process. </td>
    </tr>
    <tr>
      <td align="right"><code>mandolin.mmlp.num-epochs</code> </td>
      <td>Number of training epochs.</td>
    </tr>
    <tr>
      <td align="right"><code>mandolin.mmlp.progress-file</code> </td>
      <td>File path where output showing training progress measured by training loss as well as accuracy, area under the ROC curve and other metrics against the test data provided by </td>
    </tr>
    <tr>
      <td align="right"><code>mandolin.mmlp.scale-inputs</code> </td>
      <td>Scale inputs so that they have a range in <code>[0,1]</code></td>
    </tr>
    <tr>
      <td align="right"><code>mandolin.mmlp.specification</code> </td>
      <td>A JSON-syntax list/array specification for the multi-layered perceptron topology, including activation functions, dimensions of hidden layers and the output layer type and loss function</td>
    </tr>
  </tbody>
</table>
<h2><a href="#layer-specification" name="layer-specification" class="anchor"><span class="anchor-link"></span></a>Layer Specification</h2>
<p>MMLPs are specified with a simple array/list that indicates the type of each layer in a multi-layered perceptron. The first layer is always an input layer with one of two types: <code>Input</code> or <code>InputSparse</code>. The latter assumes a sparse representation and will use various optimizations for efficient backpropagation from a dense hidden layer to a sparse input layer. The final layer specifies an output range, dimensionality as well as the corresponding loss function (explicit or implied). For classification tasks, the output layer is typically <code>SoftMax</code>. Hidden layers are of type <code>Relu</code>, <code>TanH</code> or <code>Logistic</code> corresponding to the type of activation function for the layer and must also specify the number of dimensions for the layer. Finally, each layer, except the input layer may include L1, L2 or max-norm regluarization as well as drop-out.</p>
<h2><a href="#additional-properties" name="additional-properties" class="anchor"><span class="anchor-link"></span></a>Additional properties</h2>
<p>Some additional options are detailed below:</p>
<table>
  <thead>
    <tr>
      <th align="right">Property Name </th>
      <th>Meaning </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="right"><nobr><code>mandolin.mmlp.dense-vector-size</code></nobr> </td>
      <td>An <code>integer</code> that denotes the number of dimensions in the inputs. This is generally used only when the inputs are dense. If set to 0 or left unset the input reader will create a symbol table mapping feature names to integers. </td>
    </tr>
    <tr>
      <td align="right"><nobr><code>mandolin.mmlp.ensure-sparse</code></nobr> </td>
      <td>If set to <code>true</code>, this will force Mandolin to try to use a sparse vector representation when reducing model weights or gradients (with batch training) </td>
    </tr>
    <tr>
      <td align="right"><code>mandolin.mmlp.max-features-mi</code> </td>
      <td><code>Integer</code> specifying the number of features to select independently using Mutual Information prior to training. </td>
    </tr>
    <tr>
      <td align="right"><code>mandolin.mmlp.eval-freq</code> </td>
      <td>Frequency of training progress evaluation which is rendered to the output specified by <code>mandolin.mmlp.progress-file</code></td>
    </tr>
    <tr>
      <td align="right"><code>mandolin.mmlp.test-partitions</code> </td>
      <td>Specifies the number of data partitions for the <em>test</em> data specified by <code>mandolin.mmlp.test-file</code>. This should usually be set to 3-4 times the number of total cores on the compute cluster as typical for Spark jobs.</td>
    </tr>
    <tr>
      <td align="right"><code>mandolin.mmlp.oversample</code> </td>
      <td>This is a <code>Double</code> that is a coefficient determining how much data should be (re)sampled from the entire dataset for each partition/node during online training. If this is non-positive, the dataset is not resampled and 1/k of the data (where k is the number of compute nodes) is sharded to each compute node. If set to a positive value, a, then a/k of the data is sampled for each data partition <strong>on each epoch</strong>. See user guide for more details.</td>
    </tr>
    <tr>
      <td align="right"><code>mandolin.mmlp.print-feature-file</code> </td>
      <td>A file path that will receive a list of all the features used/selected for training with a given input file.</td>
    </tr>
  </tbody>
</table>
<div class="nav-next">
<p><strong>Next:</strong> <a href="../xgboost/xgboost.html">XGBoost</a></p>
</div>
</div>
<div class="large-3 show-for-large column" data-sticky-container>
<nav class="sidebar sticky" data-sticky data-anchor="docs" data-sticky-on="large">
<div class="page-nav">
<div class="nav-title">On this page:</div>
<div class="nav-toc">
<ul>
  <li><a href="../mmlp/mmlp.html#mmlps" class="header">MMLPs</a>
  <ul>
    <li><a href="../mmlp/mmlp.html#mmlp-configuration" class="header">MMLP Configuration</a></li>
    <li><a href="../mmlp/mmlp.html#layer-specification" class="header">Layer Specification</a></li>
    <li><a href="../mmlp/mmlp.html#additional-properties" class="header">Additional properties</a></li>
  </ul></li>
</ul>
</div>
</div>
</nav>
</div>
</div>

</section>
</div>

</div>

<footer class="site-footer">

<section class="site-footer-nav">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 medium-4 large-3 text-center column">
<div class="nav-links">
<ul>
<!-- <li><a href="https://www.example.com/products/">Products</a> -->
</ul>
</div>
</div>

</div>
</div>
</div>
</section>

<section class="site-footer-base">
<div class="expanded row">
<div class="small-12 large-offset-2 large-10 column">
<div class="row site-footer-content">

<div class="small-12 text-center large-9 column">

<!--
<div class="copyright">
<span class="text">&copy; 2017</span>
<a href="https://www.example.com" class="logo">logo</a>
</div>
-->
</div>

</div>
</div>
</div>
</section>
</footer>

</div>
</div>
</div>
</body>

<script type="text/javascript" src="../lib/foundation/dist/foundation.min.js"></script>
<script type="text/javascript">jQuery(document).foundation();</script>
<script type="text/javascript" src="../js/magellan.js"></script>

<style type="text/css">@import "../lib/prettify/prettify.css";</style>
<script type="text/javascript" src="../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">jQuery(function(){window.prettyPrint && prettyPrint()});</script>

</html>
